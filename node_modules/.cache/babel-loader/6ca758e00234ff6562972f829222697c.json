{"ast":null,"code":"import _classCallCheck from\"/Applications/MAMP/htdocs/phonebook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Applications/MAMP/htdocs/phonebook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import AddNewItem from\"./AddNewItem\";var AddNew=/*#__PURE__*/function(){function AddNew(){_classCallCheck(this,AddNew);this.items=this.loadFromLocalStorage();}_createClass(AddNew,[{key:\"add\",value:function add(item){this.items.push(item);this.saveToLocalStorage();return this.items;}},{key:\"delete\",value:function _delete(item){this.items.splice(this.items.indexOf(item),1);this.saveToLocalStorage();return this.items;}},{key:\"saveToLocalStorage\",value:function saveToLocalStorage(){localStorage.setItem('phonebook-data',JSON.stringify(this.items));}},{key:\"loadFromLocalStorage\",value:function loadFromLocalStorage(){var json=localStorage.getItem('phonebook-data');if(json===null)return[];var jsonParsed=JSON.parse(json,function(key,value){if(key===\"date\"){value=new Date(value);}return value;});if(jsonParsed.length===0)return[];var addNewItems=[];for(var i=0;i<jsonParsed.length;i++){addNewItems.push(AddNewItem.fromJSON(jsonParsed[i]));}return addNewItems;}}]);return AddNew;}();export default AddNew;","map":{"version":3,"sources":["/Applications/MAMP/htdocs/phonebook/src/model/AddNew.js"],"names":["AddNewItem","AddNew","items","loadFromLocalStorage","item","push","saveToLocalStorage","splice","indexOf","localStorage","setItem","JSON","stringify","json","getItem","jsonParsed","parse","key","value","Date","length","addNewItems","i","fromJSON"],"mappings":"kTAAA,MAAOA,CAAAA,UAAP,KAAuB,cAAvB,C,GAEMC,CAAAA,M,yBAEF,iBAAc,8BACV,KAAKC,KAAL,CAAa,KAAKC,oBAAL,EAAb,CACH,C,sCAED,aAAIC,IAAJ,CAAU,CACN,KAAKF,KAAL,CAAWG,IAAX,CAAgBD,IAAhB,EACA,KAAKE,kBAAL,GAEA,MAAO,MAAKJ,KAAZ,CACH,C,sBAED,iBAAOE,IAAP,CAAa,CACT,KAAKF,KAAL,CAAWK,MAAX,CAAkB,KAAKL,KAAL,CAAWM,OAAX,CAAmBJ,IAAnB,CAAlB,CAA4C,CAA5C,EACA,KAAKE,kBAAL,GAEA,MAAO,MAAKJ,KAAZ,CACH,C,kCAED,6BAAqB,CACjBO,YAAY,CAACC,OAAb,CAAqB,gBAArB,CAAuCC,IAAI,CAACC,SAAL,CAAe,KAAKV,KAApB,CAAvC,EACH,C,oCAED,+BAAuB,CACnB,GAAIW,CAAAA,IAAI,CAAGJ,YAAY,CAACK,OAAb,CAAqB,gBAArB,CAAX,CAEA,GAAID,IAAI,GAAK,IAAb,CACI,MAAO,EAAP,CAEJ,GAAIE,CAAAA,UAAU,CAAGJ,IAAI,CAACK,KAAL,CAAWH,IAAX,CAAiB,SAACI,GAAD,CAAMC,KAAN,CAAgB,CAC9C,GAAID,GAAG,GAAK,MAAZ,CAAoB,CAChBC,KAAK,CAAG,GAAIC,CAAAA,IAAJ,CAASD,KAAT,CAAR,CACH,CACD,MAAOA,CAAAA,KAAP,CACH,CALgB,CAAjB,CAOA,GAAIH,UAAU,CAACK,MAAX,GAAsB,CAA1B,CACI,MAAO,EAAP,CAEJ,GAAIC,CAAAA,WAAW,CAAG,EAAlB,CAEA,IAAK,GAAIC,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGP,UAAU,CAACK,MAA/B,CAAuCE,CAAC,EAAxC,CAA4C,CACxCD,WAAW,CAAChB,IAAZ,CAAiBL,UAAU,CAACuB,QAAX,CAAoBR,UAAU,CAACO,CAAD,CAA9B,CAAjB,EACH,CAED,MAAOD,CAAAA,WAAP,CAEH,C,sBAKL,cAAepB,CAAAA,MAAf","sourcesContent":["import AddNewItem from \"./AddNewItem\";\n\nclass AddNew {\n\n    constructor() {\n        this.items = this.loadFromLocalStorage();\n    }\n\n    add(item) {\n        this.items.push(item);\n        this.saveToLocalStorage();\n\n        return this.items;\n    }\n\n    delete(item) {\n        this.items.splice(this.items.indexOf(item), 1);\n        this.saveToLocalStorage();\n\n        return this.items;\n    }\n\n    saveToLocalStorage() {\n        localStorage.setItem('phonebook-data', JSON.stringify(this.items));\n    }\n\n    loadFromLocalStorage() {\n        var json = localStorage.getItem('phonebook-data');\n\n        if (json === null)\n            return [];\n\n        let jsonParsed = JSON.parse(json, (key, value) => {\n            if (key === \"date\") {\n                value = new Date(value);\n            }\n            return value;\n        });\n\n        if (jsonParsed.length === 0)\n            return [];\n\n        let addNewItems = [];\n\n        for (let i = 0; i < jsonParsed.length; i++) {\n            addNewItems.push(AddNewItem.fromJSON(jsonParsed[i]));\n        }\n\n        return addNewItems;\n\n    }\n\n}\n\n\nexport default AddNew;\n"]},"metadata":{},"sourceType":"module"}