{"ast":null,"code":"import AddNewItem from \"./AddNewItem\";\n\nclass AddNew {\n  constructor() {\n    this.items = this.loadFromLocalStorage();\n  }\n\n  add(item) {\n    this.items.push(item);\n    this.saveToLocalStorage();\n    return this.items;\n  }\n\n  delete(item) {\n    this.items.splice(this.items.indexOf(item), 1);\n    this.saveToLocalStorage();\n    return this.items;\n  }\n\n  saveToLocalStorage() {\n    localStorage.setItem('phonebook-data', JSON.stringify(this.items));\n  }\n\n  loadFromLocalStorage() {\n    var json = localStorage.getItem('phonebook-data');\n    if (json === null) return [];\n    let jsonParsed = JSON.parse(json, (key, value) => {\n      if (key === \"date\") {\n        value = new Date(value);\n      }\n\n      return value;\n    });\n    if (jsonParsed.length === 0) return [];\n    let addNewItems = [];\n\n    for (let i = 0; i < jsonParsed.length; i++) {\n      addNewItems.push(NewItem.fromJSON(jsonParsed[i]));\n    }\n\n    return addNewItems;\n  }\n\n}\n\nexport default AddNew;","map":{"version":3,"sources":["/Applications/MAMP/htdocs/frontend-apps/react/phonebook/src/model/AddNew.js"],"names":["AddNewItem","AddNew","constructor","items","loadFromLocalStorage","add","item","push","saveToLocalStorage","delete","splice","indexOf","localStorage","setItem","JSON","stringify","json","getItem","jsonParsed","parse","key","value","Date","length","addNewItems","i","NewItem","fromJSON"],"mappings":"AAAA,OAAOA,UAAP,MAAuB,cAAvB;;AAEA,MAAMC,MAAN,CAAa;AAETC,EAAAA,WAAW,GAAG;AACV,SAAKC,KAAL,GAAa,KAAKC,oBAAL,EAAb;AACH;;AAEDC,EAAAA,GAAG,CAACC,IAAD,EAAO;AACN,SAAKH,KAAL,CAAWI,IAAX,CAAgBD,IAAhB;AACA,SAAKE,kBAAL;AAEA,WAAO,KAAKL,KAAZ;AACH;;AAEDM,EAAAA,MAAM,CAACH,IAAD,EAAO;AACT,SAAKH,KAAL,CAAWO,MAAX,CAAkB,KAAKP,KAAL,CAAWQ,OAAX,CAAmBL,IAAnB,CAAlB,EAA4C,CAA5C;AACA,SAAKE,kBAAL;AAEA,WAAO,KAAKL,KAAZ;AACH;;AAEDK,EAAAA,kBAAkB,GAAG;AACjBI,IAAAA,YAAY,CAACC,OAAb,CAAqB,gBAArB,EAAuCC,IAAI,CAACC,SAAL,CAAe,KAAKZ,KAApB,CAAvC;AACH;;AAEDC,EAAAA,oBAAoB,GAAG;AACnB,QAAIY,IAAI,GAAGJ,YAAY,CAACK,OAAb,CAAqB,gBAArB,CAAX;AAEA,QAAID,IAAI,KAAK,IAAb,EACI,OAAO,EAAP;AAEJ,QAAIE,UAAU,GAAGJ,IAAI,CAACK,KAAL,CAAWH,IAAX,EAAiB,CAACI,GAAD,EAAMC,KAAN,KAAgB;AAC9C,UAAID,GAAG,KAAK,MAAZ,EAAoB;AAChBC,QAAAA,KAAK,GAAG,IAAIC,IAAJ,CAASD,KAAT,CAAR;AACH;;AACD,aAAOA,KAAP;AACH,KALgB,CAAjB;AAOA,QAAIH,UAAU,CAACK,MAAX,KAAsB,CAA1B,EACI,OAAO,EAAP;AAEJ,QAAIC,WAAW,GAAG,EAAlB;;AAEA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGP,UAAU,CAACK,MAA/B,EAAuCE,CAAC,EAAxC,EAA4C;AACxCD,MAAAA,WAAW,CAACjB,IAAZ,CAAiBmB,OAAO,CAACC,QAAR,CAAiBT,UAAU,CAACO,CAAD,CAA3B,CAAjB;AACH;;AAED,WAAOD,WAAP;AAEH;;AAhDQ;;AAqDb,eAAevB,MAAf","sourcesContent":["import AddNewItem from \"./AddNewItem\";\n\nclass AddNew {\n\n    constructor() {\n        this.items = this.loadFromLocalStorage();\n    }\n\n    add(item) {\n        this.items.push(item);\n        this.saveToLocalStorage();\n\n        return this.items;\n    }\n\n    delete(item) {\n        this.items.splice(this.items.indexOf(item), 1);\n        this.saveToLocalStorage();\n\n        return this.items;\n    }\n\n    saveToLocalStorage() {\n        localStorage.setItem('phonebook-data', JSON.stringify(this.items));\n    }\n\n    loadFromLocalStorage() {\n        var json = localStorage.getItem('phonebook-data');\n\n        if (json === null)\n            return [];\n\n        let jsonParsed = JSON.parse(json, (key, value) => {\n            if (key === \"date\") {\n                value = new Date(value);\n            }\n            return value;\n        });\n\n        if (jsonParsed.length === 0)\n            return [];\n\n        let addNewItems = [];\n\n        for (let i = 0; i < jsonParsed.length; i++) {\n            addNewItems.push(NewItem.fromJSON(jsonParsed[i]));\n        }\n\n        return addNewItems;\n\n    }\n\n}\n\n\nexport default AddNew;\n"]},"metadata":{},"sourceType":"module"}